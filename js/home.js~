var selected = false;

init ();

function init () {
    if (!selected) {
	setMap ();
    } else {
	setDisplay ();
    }
}

function setMap () {
    function resize () {
	var map = document.getElementById ('map');
	map.hidden = false;
	
	var modal = document.getElementById ('map-modal');
	var container = document.getElementById ('frame');
	container.hidden = true;
	
	var nav = document.getElementById ('navbar');
	$('#map-modal').height( (window.outerHeight - nav.clientHeight) * 0.6);
	
	$('#map-modal').width(map.clientWidth);
	$('#map-modal').height (map.clientHeight);
	var map_frame = document.getElementById ('map-frame');
	map_frame.src = "pages/map.html";
	$('#map-frame').height (map.clientHeight);
    }

    $(document).ready (resize);
    window.onresize = resize;
    resize ();
    
}


function setDisplay () {
    function resize () {
	var viewer = document.createElement ("iframe");
	var container = document.getElementById('frame');

	for (var i = 0; i < container.children.length; i++)
	    container.removeChild (container.children [0]);

	container.appendChild (viewer);
	
	var nav = document.getElementById ('navbar');
	viewer.src="pages/iframe.html";
	
	viewer.width = container.clientWidth;     
	viewer.height = (window.outerHeight - nav.clientHeight) * 0.8;
	viewer.setAttribute( 'scrolling', 'no' );  
    }
    
    $(document).ready (resize);
    window.onresize = resize;
    resize ();

    var map = document.getElementById ('map');    
    map.hidden = true;
}


